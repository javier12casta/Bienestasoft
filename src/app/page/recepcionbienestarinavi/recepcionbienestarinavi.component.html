<nav class="navbar navbar-success bg-success">
    <button class="btn btn-dark" routerLink="/recepcionv">Volver</button>
  </nav>
  
  <div class="col-md-4 offset-md-4" style="padding-top: 50px;" padding>
    <div class="card" padding>
      <div class="card-body" padding>
  
  
        <form [formGroup]="RefForm" (ngSubmit)="onSubmit()">
          <h1>Crear Recepcion</h1>
          
          <div class="form-group">
            <label>Almacén</label>
            <select formControlName="alma" placeholder="Almacenes" class="form-control" [(ngModel)]="x.idAlmacenes" [ngClass]="{ 'is-invalid': submitted && f.alma.errors }">
              <option *ngFor="let do of alm" [value]="do.idAlmacenes">{{do.Nombre  }} </option>
            </select>
            <div *ngIf="submitted && f.alma.errors" class="invalid-feedback">
                <div *ngIf="f.alma.errors.required">El almacén es requerido</div>
            </div>
        </div>

        <div class="form-group">
          <label>Fecha de ingreso</label>
          <input type="date" placeholder="Fecha de ingreso" formControlName="fecha" class="form-control" [(ngModel)]="x.FechaRecepcion" min="1900-01-01" max="2050-12-31" 
          name="fechai" id="fecha" [ngClass]="{ 'is-invalid': submitted && f.fecha.errors }"/>
  
          <div *ngIf="submitted && f.fecha.errors" class="invalid-feedback">
            <div *ngIf="f.fecha.errors.required">La fecha de ingreso es requerida</div>
          </div>
        </div> 

        <div class="form-group">
          <label>Centro de distribución</label>
          <select formControlName="Cd" placeholder="Centro de distribución" class="form-control" [(ngModel)]="x.idCentroDistribucion" [ngClass]="{ 'is-invalid': submitted && f.Cd.errors }">
            <option *ngFor="let do of cen" [value]="do.idCentroDistribucion">{{do.Nombre  }} </option>
          </select>
          <div *ngIf="submitted && f.Cd.errors" class="invalid-feedback">
              <div *ngIf="f.Cd.errors.required">El centro de distribución es requerido</div>
          </div>
        </div>

        <div class="form-group">
          <label>Referencia bienestarina</label>
          <select formControlName="Tipob" placeholder="Referencia de bienestarina" class="form-control" [(ngModel)]="x.idTipoBienesterina" (ngModelChange)="Referencia($event)" [ngClass]="{ 'is-invalid': submitted && f.Tipob.errors }">
              <option *ngFor="let do of tip" [value]="do.idTipoBienesterina">{{do.TipoBienesterina  }} </option>
          </select>
          <div *ngIf="submitted && f.Tipob.errors" class="invalid-feedback">
              <div *ngIf="f.Tipob.errors.required">la referencia bienestarina es requerida</div>
          </div>
        </div>


          <div class="form-group">
            <label>Lote </label>
            <input type="text" placeholder="Lote bienestarina" formControlName="Lote" class="form-control" [(ngModel)]="x.lote" name="ref" id="tipo"
              [ngClass]="{ 'is-invalid': submitted && f.Lote.errors }"/>
  
            <div *ngIf="submitted && f.Lote.errors" class="invalid-feedback">
              <div *ngIf="f.Lote.errors.required"> Tipo bienesterina es requerido</div>
              <div *ngIf="f.Lote.errors.pattern"> El lote solo puede contener numeros y letras minusculas o
                mayúsculas</div>
            </div>
          </div>

          <div class="form-group">
              <label>Fecha de vencimiento</label>
              <input type="date" placeholder="Fecha de vencimiento" formControlName="fechav" class="form-control" [(ngModel)]="x.FechaVencimiento" min="1900-01-01" max="2050-12-31" 
              name="fechav" id="fechav" [ngClass]="{ 'is-invalid': submitted && f.fechav.errors }"/>
      
              <div *ngIf="submitted && f.fechav.errors" class="invalid-feedback">
                <div *ngIf="f.fechav.errors.required">La fecha de vencimiento es requerida</div>
              </div>
          </div>
          
          <div class="form-group">
              <label>Presentación </label>
              <select formControlName="unidad" placeholder="Presentación" class="form-control" [(ngModel)]="x.UnidadPrincipal"  (change)="onChange3($event)" [ngClass]="{ 'is-invalid': submitted && f.unidad.errors }">
                  <option [value]="item" *ngFor="let item of unidadmedida">{{item}} </option>
              </select>
              <div *ngIf="submitted && f.unidad.errors" class="invalid-feedback">
                  <div *ngIf="f.unidad.errors.required">La presentación es requerida</div>
              </div>
          </div>
  
          <div class="form-group">
            <label>Cantidad granular</label>
            <input type="text" placeholder="Cantidad granular" formControlName="Cantidad" class="form-control" [(ngModel)]="x.Cantidad" (keyup)="onKey($event)" 
            name="cod" id="codi" [ngClass]="{ 'is-invalid': submitted && f.Cantidad.errors }"/>
  
            <div *ngIf="submitted && f.Cantidad.errors" class="invalid-feedback">
              <div *ngIf="f.Cantidad.errors.required">La cantidad granular es requerido</div>
              <div *ngIf="f.Cantidad.errors.pattern">La cantidad granular solo puede contener numeros</div>
            </div>
          </div>
  
          
  
        <div class="form-group">
          <label>Cantidad líquida</label>
          <input type="text" placeholder="Cantidad líquida" formControlName="Cantidadl" class="form-control" [(ngModel)]="x.Cantidad2" 
          name="cantidade" id="cantidadlíquida" [ngClass]="{ 'is-invalid': submitted && f.Cantidadl.errors }"/>
  
          <div *ngIf="submitted && f.Cantidadl.errors" class="invalid-feedback">
            <div *ngIf="f.Cantidadl.errors.required">La cantidad líquida es requerida</div>
            <div *ngIf="f.Cantidadl.errors.pattern">La cantidad líquida solo puede contener numeros</div>
          </div>
        </div>

        <div class="form-group">
            <label>Número de acta</label>
            <input type="text" placeholder="Número de acta" formControlName="Numero" class="form-control" [(ngModel)]="y.numero" 
            name="Numero" id="Numero" [ngClass]="{ 'is-invalid': submitted && f.Numero.errors }"/>
    
            <div *ngIf="submitted && f.Numero.errors" class="invalid-feedback">
              <div *ngIf="f.Numero.errors.required">El número de acta es requerida</div>
              <div *ngIf="f.Numero.errors.pattern">El número de acta solo puede contener numeros</div>
            </div>
          </div>
  
        
  
          <div class="text-center">
            <button type="submit" class="btn btn-success btn-block">Guardar</button>
          </div>
  
        </form>
      </div>
    </div>
  </div> 