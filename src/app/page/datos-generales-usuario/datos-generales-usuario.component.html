<nav class="navbar navbar-success bg-success">
	<button class="btn btn-dark" routerLink="/usuariosv">Volver</button>
</nav>

<div class="col-md-4 offset-md-4" style="padding-top: 50px;" padding>
	<div class="card" padding>
		<div class="card-body" padding>

				<form [formGroup]="usForm" (ngSubmit)="onSubmit()">

						<h1>Crear usuarios</h1>
						<div class="form-group">
							<label>Seleccione centro zonal</label>
							<select formControlName="idCentrosZonales" class="form-control" [(ngModel)]="x.idCentrosZonales"
								[ngClass]="{ 'is-invalid': submitted && f.idCentrosZonales.errors }">
								<option *ngFor="let do of cen " [value]="do.idCentrosZonales">{{do.NombreCentroZonal }}</option>
							</select>
							<div *ngIf="submitted && f.idCentrosZonales.errors" class="invalid-feedback">
								<div *ngIf="f.idCentrosZonales.errors.required">Centro zonal es requerido</div>
							</div>
						</div>

						<h1>Datos generales usuario</h1>

				<div class="form-group">
					<label>Estado</label>
					<select formControlName="Estado" class="form-control" [(ngModel)]="x.Estado"
						[ngClass]="{ 'is-invalid': submitted && f.Estado.errors }">
						<option value="1">Habilitado</option>
						<option value="0">Deshabilitado</option>

					</select>
					<div *ngIf="submitted && f.Estado.errors" class="invalid-feedback">
						<div *ngIf="f.Estado.errors.required">Estado es requerido</div>
					</div>
				</div>

				<div class="form-group">
					<label>Tipo de documento</label>
					<select formControlName="idTipoDocumento" class="form-control" [(ngModel)]="x.idTipoDocumento"
						[ngClass]="{ 'is-invalid': submitted && f.idTipoDocumento.errors }">
						<option *ngFor="let do of doc" [value]="do.idTipoDocumento">{{do.NombreTipo}}</option>
					</select>

					<div *ngIf="submitted && f.idTipoDocumento.errors" class="invalid-feedback">
						<div *ngIf="f.idTipoDocumento.errors.required"> Tipo de documento es requerido</div>
					</div>
				</div>

				<div class="form-group">
					<label>Número de documento</label>

					<input type="text" placeholder="Número de documento" formControlName="NumeroDocumento"
						class="form-control" [(ngModel)]="x.NumeroDocumento"
						[ngClass]="{ 'is-invalid': submitted && f.NumeroDocumento.errors }" />

					<div *ngIf="submitted && f.NumeroDocumento.errors" class="invalid-feedback">
						<div *ngIf="f.NumeroDocumento.errors.required">El número de documento es requiredo
						</div>
						<div *ngIf="f.NumeroDocumento.errors.pattern"> El número de documento solo puede
							conterner
							numeros
						</div>
					</div>
				</div>

				<div class="form-group">
					<label>Nombres</label>

					<input type="text" placeholder="Nombres" formControlName="Nombres" class="form-control"
						[(ngModel)]="x.Nombres" [ngClass]="{ 'is-invalid': submitted && f.Nombres.errors }" />

					<div *ngIf="submitted && f.Nombres.errors" class="invalid-feedback">
						<div *ngIf="f.Nombres.errors.required"> Los nombres son requiredos</div>
						<div *ngIf="f.Nombres.errors.pattern"> Los nombres solo puede
							contener letras minusculas o
							mayusculas</div>
					</div>
				</div>


				<div class="form-group">
						<label>Apellidos</label>
	
						<input type="text" placeholder="Apellidos" formControlName="Apellidos" class="form-control"
							[(ngModel)]="x.Apellidos" [ngClass]="{ 'is-invalid': submitted && f.Apellidos.errors }" />
	
						<div *ngIf="submitted && f.Apellidos.errors" class="invalid-feedback">
							<div *ngIf="f.Apellidos.errors.required">Los Apellidos son requiredos</div>
							<div *ngIf="f.Apellidos.errors.pattern">Los Apellidos solo puede conterner
								letras
								minusculas o
								mayusculas</div>
						</div>
					</div>
	
					<div class="form-group">
						<label>Fecha de ingreso</label>
	
						<input type="date" placeholder="Fecha de Ingreso" formControlName="FechaIngreso"
							class="form-control" [(ngModel)]="x.FechaIngreso" min="1900-01-01" max="2050-12-31"
							[ngClass]="{ 'is-invalid': submitted && f.FechaIngreso.errors }" />
	
						<div *ngIf="submitted && f.FechaIngreso.errors" class="invalid-feedback">
							<div *ngIf="f.FechaIngreso.errors.required">Fecha Ingreso es requireda</div>
						</div>
					</div>


					<span >Seleccione centro zonal</span>
			   <h2></h2>
			   
			   
			<select name="idnivel1" class="form-control" style="width: 100%;" [(ngModel)]="x.idCentrosZonales"
			options="options" placeholder="nivel" 
			minlength="0" required="">
			<option *ngFor="let do of cen " [value]="do.idCentrosZonales">{{do.NombreCentroZonal }} </option>
	
		  </select>

		  <div class="form-group">

				
				<h1>Datos generales usuario</h1>
				<h2></h2>
				<span  >Estado del dato Maestro</span>
				<h2></h2>
				
				<select name="estadomaestro" [(ngModel)]="x.Estado" class="select-css" 
				minlength="0" required="" class="form-control">
				<Option value="1"> Habilitado</Option>
				<option value="0"> Deshabilitado</option>
				
					   	 
		  </select>
		</div>

		<h2></h2>
			   <span >Tipo documento</span>
			   <h2></h2>
			   
			   <select name="idRegional" class="select-css" style="width: 100%;" [(ngModel)]="x.idTipoDocumento"
			   options="options" placeholder="Tipo documento" 
			   minlength="0" required="" class="form-control">
			   <option *ngFor="let do of doc" [value]="do.idTipoDocumento">{{do.NombreTipo }} </option>
			 </select>
				  
			   
			   <h2></h2>
		   <span >Número de documento</span>
			   <h2></h2>
			   <input type="number" class="form-control" [(ngModel)]="x.NumeroDocumento" name="numerodoc"
			   placeholder="Número de documento" class="form-control" id="inputdoc" 
			   minlength="0" required="">
		   
			   
	   
		   <h2></h2>
			   <span >Nombres</span>
			   <h2></h2>
			   <input type="text" class="form-control" [(ngModel)]="x.Nombres" name="nombre"
			   placeholder="Nombres" class="form-control" id="nom" 
			   minlength="0" required="">
		 
			   <h2></h2>
			   <span >Apellidos</span>
			   <h2></h2>
			   <input type="text" class="form-control" [(ngModel)]="x.Apellidos" name="apellidos"
			   placeholder="Apellidos" class="form-control" id="app" 
			   minlength="0" required="">
		   <h2></h2>
		 
			   <span >Fecha de ingreso</span>
			   <h2></h2>
			   <input type="date" class="form-control" [(ngModel)]="x.FechaIngreso" name="fechai" placeholder="Fecha" min="1900-01-01" max="2050-12-31" class="form-control" 
			   minlength="0" required="">
		   
				<h2></h2>
				{{today}}
				<h1>Usuario y asignación de Roles</h1>

				<div class="form-group">
					<label>Nombre de usuario</label>

					<input type="text" placeholder="Nombre de usuario" formControlName="NombreUsuarioSistema"
						class="form-control" [(ngModel)]="x.NombreUsuarioSistema"
						[ngClass]="{ 'is-invalid': submitted && f.NombreUsuarioSistema.errors }" />

					<div *ngIf="submitted && f.NombreUsuarioSistema.errors" class="invalid-feedback">
						<div *ngIf="f.NombreUsuarioSistema.errors.required">El nombre de usuario en el sistema es
							requiredo</div>
						<div *ngIf="f.NombreUsuarioSistema.errors.minlength">El nombre de usuario en el sistema debe
							contener minimo 6 caracteres</div>
						<div *ngIf="f.NombreUsuarioSistema.errors.maxlength">El nombre de usuario en el sistema debe
							contener maximo 20 caracteres</div>
						<div *ngIf="f.NombreUsuarioSistema.errors.pattern">El nombre de usuario en el sistema solo puede
							conterner numeros y letras
							minusculas o
							mayusculas</div>
					</div>
				</div>

				<div class="form-group">
					<label>Contraseña</label>

					<input type="{{type}}" placeholder="Contraseña" id="psw" formControlName="password"
						class="form-control" [(ngModel)]="x.password"
						[ngClass]="{ 'is-invalid': submitted && f.password.errors }" />
					<button (click)="ver()" type="button" class="btn btn-success btn-sm" style="float: right;">
						<mat-icon>remove_red_eye</mat-icon>
					</button>

					<div *ngIf="submitted && f.password.errors" class="invalid-feedback">
						<div *ngIf="f.password.errors.required">La contraseña es
							requiredo</div>
						<div *ngIf="f.password.errors.minlength">La contraseña debe
							contener minimo 6 caracteres</div>
						<div *ngIf="f.password.errors.maxlength">La contraseña debe
							contener maximo 20 caracteres</div>
						<div *ngIf="f.password.errors.pattern">La contraseña solo puede
							conterner numeros y letras
							minusculas o
							mayusculas</div>
					</div>
				</div>

				<div class="form-group">
					<label>Tipo usuario</label>
					<select formControlName="tipo" class="form-control" [(ngModel)]="x.tipo"
						[ngClass]="{ 'is-invalid': submitted && f.tipo.errors }">
						<option value="PE">PE</option>
						<option value="UDS">UDS</option>
						<option value="ADMINISTRADOR">ADMINISTRADOR</option>
					</select>


					<div *ngIf="submitted && f.tipo.errors" class="invalid-feedback">
						<div *ngIf="f.tipo.errors.required">El tipo de usuario es requiredo</div>
					</div>
				</div>

				<div class="form-group">
					<label>Rol</label>
					<select formControlName="TipoUsuario" class="form-control" [(ngModel)]="x.TipoUsuario"
						[ngClass]="{ 'is-invalid': submitted && f.TipoUsuario.errors }">
						<option *ngFor="let do of rol" [value]="do.idRolPersona">{{do.RolPersona}} </option>
					</select>

					<div *ngIf="submitted && f.TipoUsuario.errors" class="invalid-feedback">
						<div *ngIf="f.TipoUsuario.errors.required">El tipo de rol es requiredo</div>
					</div>
				</div>

				<h1>Datos de contacto</h1>

				<div class="form-group">
					<label>Dirección</label>

					<input type="text" placeholder="Dirección" formControlName="Direccion" class="form-control"
						[(ngModel)]="x.Direccion" [ngClass]="{ 'is-invalid': submitted && f.Direccion.errors }" />

					<div *ngIf="submitted && f.Direccion.errors" class="invalid-feedback">
						<div *ngIf="f.Direccion.errors.required">Dirección es requiredo</div>
						<div *ngIf="f.Direccion.errors.pattern">Dirección solo puede conterner - #
							numeros y
							letras
							minusculas o
							mayusculasletras minusculas o
							mayúsculas </div>
					</div>
				</div>

				<div class="form-group">
					<label>Teléfono fijo 1</label>

					<input type="text" placeholder="Teléfono fijo 1" formControlName="TelefonoFijo" class="form-control"
						[(ngModel)]="x.TelefonoFijo" [ngClass]="{ 'is-invalid': submitted && f.TelefonoFijo.errors }" />

					<div *ngIf="submitted && f.TelefonoFijo.errors" class="invalid-feedback">
						<div *ngIf="f.TelefonoFijo.errors.required">Teléfono es requiredo</div>
						<div *ngIf="f.TelefonoFijo.errors.minlength"> Teléfono debe contener minimo 10
							caracteres
						</div>
						<div *ngIf="f.TelefonoFijo.errors.pattern">Teléfono solo puede conterner numeros
						</div>
					</div>
				</div>

				<div class="form-group">
					<label>Teléfono fijo 2</label>

					<input type="text" placeholder="Teléfono fijo 2" formControlName="TelefonoFijo2"
						class="form-control" [(ngModel)]="x.TelefonoFijo2"
						[ngClass]="{ 'is-invalid': submitted && f.TelefonoFijo2.errors }" />

					<div *ngIf="submitted && f.TelefonoFijo2.errors" class="invalid-feedback">
						<div *ngIf="f.TelefonoFijo2.errors.minlength"> Teléfono debe contener minimo 10
							caracteres
						</div>
						<div *ngIf="f.TelefonoFijo2.errors.pattern">Teléfono solo puede conterner numeros
						</div>
					</div>
				</div>

				<div class="form-group">
					<label>Teléfono movil 1</label>

					<input type="text" placeholder="Teléfono movil 1" formControlName="TelefonoMovil"
						class="form-control" [(ngModel)]="x.TelefonoMovil"
						[ngClass]="{ 'is-invalid': submitted && f.TelefonoMovil.errors }" />

					<div *ngIf="submitted && f.TelefonoMovil.errors" class="invalid-feedback">
						<div *ngIf="f.TelefonoMovil.errors.required">Teléfono es requiredo</div>
						<div *ngIf="f.TelefonoMovil.errors.minlength"> Teléfono debe contener minimo 10
							caracteres
						</div>
						<div *ngIf="f.TelefonoMovil.errors.pattern">Teléfono solo puede conterner numeros
						</div>
					</div>
				</div>

				<div class="form-group">
					<label>Teléfono movil 2</label>

					<input type="text" placeholder="Teléfono movil 2" formControlName="TelefonoMovil2"
						class="form-control" [(ngModel)]="x.TelefonoMovil2"
						[ngClass]="{ 'is-invalid': submitted && f.TelefonoMovil2.errors }" />

					<div *ngIf="submitted && f.TelefonoMovil2.errors" class="invalid-feedback">
						<div *ngIf="f.TelefonoMovil2.errors.required">Teléfono unidad de servicio es requiredo</div>
						<div *ngIf="f.TelefonoMovil2.errors.minlength"> Teléfono unidad de servicio debe contener minimo 10
							caracteres
						</div>
						<div *ngIf="f.TelefonoMovil2.errors.pattern">Teléfono unidad de servicio solo puede conterner numeros
						</div>
					</div>
				</div>


				<div class="form-group">
						<label>Correo electrónico</label>
	
						<input type="email" placeholder="Correo electrónico" formControlName="Email"
							class="form-control" [(ngModel)]="x.Email"
							[ngClass]="{ 'is-invalid': submitted && f.Email.errors }" />
	
						<div *ngIf="submitted && f.Email.errors" class="invalid-feedback">
							<div *ngIf="f.Email.errors.required">Teléfono unidad de servicio es requiredo</div>
							<div *ngIf="f.Email.errors.minlength"> Teléfono unidad de servicio debe contener minimo 10
								caracteres
							</div>
							<div *ngIf="f.Email.errors.pattern">Teléfono unidad de servicio solo puede conterner numeros
							</div>
						</div>
					</div>

					
				<br />

				<div class="text-center">
					<button type="submit" class="btn btn-success btn-block">Guardar</button>
				</div>

			</form>
		</div>
	</div>
</div>